{"ast":null,"code":"var _jsxFileName = \"/Users/ishankanodia/Desktop/att/innnovation-lab/frontend/src/AttendanceTable.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './AttendanceTable.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AttendanceTable = ({\n  teacherId\n}) => {\n  _s();\n  const [attendanceData, setAttendanceData] = useState([]);\n  useEffect(() => {\n    // Fetch attendance data from the backend using the actual teacherId prop\n    fetch(`http://localhost:3001/api/attendance/${teacherId}`).then(response => response.json()).then(data => setAttendanceData(data.attendance)) // Assuming attendance data is under 'attendance'\n    .catch(error => console.error('Error fetching attendance data:', error));\n  }, [teacherId]);\n  console.log(attendanceData);\n  const renderTableHeader = () => {\n    if (attendanceData.length === 0 || !attendanceData[0].date) {\n      return null; // Handle the case where no data is available\n    }\n    const days = attendanceData.map(item => item.date); // Get the unique days\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Student\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this), days.map((day, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n        children: day\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this);\n  };\n  const renderTableRows = () => {\n    if (attendanceData.length === 0) {\n      return null;\n    }\n\n    // Group by student names and show their attendance status\n    const groupedByStudent = {};\n    attendanceData.forEach(record => {\n      const {\n        name,\n        date,\n        present\n      } = record;\n      if (!groupedByStudent[name]) {\n        groupedByStudent[name] = {};\n      }\n      groupedByStudent[name][date] = present;\n    });\n    return Object.keys(groupedByStudent).map((studentName, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: studentName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), Object.values(groupedByStudent[studentName]).map((status, idx) => /*#__PURE__*/_jsxDEV(\"td\", {\n        className: status ? 'present' : 'absent',\n        children: status ? 'Present' : 'Absent'\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this))]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"attendance-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Day-wise Attendance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"attendance-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: attendanceData.length > 0 && renderTableHeader()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: attendanceData.length > 0 ? renderTableRows() : /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"100%\",\n            children: \"No attendance data available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 69\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 65\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(AttendanceTable, \"dwuTqIp2CzfVFy6F0f7BHj0/jnA=\");\n_c = AttendanceTable;\nexport default AttendanceTable;\nvar _c;\n$RefreshReg$(_c, \"AttendanceTable\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","AttendanceTable","teacherId","_s","attendanceData","setAttendanceData","fetch","then","response","json","data","attendance","catch","error","console","log","renderTableHeader","length","date","days","map","item","children","fileName","_jsxFileName","lineNumber","columnNumber","day","index","renderTableRows","groupedByStudent","forEach","record","name","present","Object","keys","studentName","values","status","idx","className","colSpan","_c","$RefreshReg$"],"sources":["/Users/ishankanodia/Desktop/att/innnovation-lab/frontend/src/AttendanceTable.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './AttendanceTable.css';\n\nconst AttendanceTable = ({ teacherId }) => {\n  const [attendanceData, setAttendanceData] = useState([]);\n  \n  useEffect(() => {\n    // Fetch attendance data from the backend using the actual teacherId prop\n    fetch(`http://localhost:3001/api/attendance/${teacherId}`)\n      .then((response) => response.json())\n      .then((data) => setAttendanceData(data.attendance)) // Assuming attendance data is under 'attendance'\n      .catch((error) => console.error('Error fetching attendance data:', error));\n  }, [teacherId]);\n\n  console.log(attendanceData);\n\n  const renderTableHeader = () => {\n    if (attendanceData.length === 0 || !attendanceData[0].date) {\n      return null; // Handle the case where no data is available\n    }\n\n    const days = attendanceData.map(item => item.date); // Get the unique days\n    return (\n      <tr>\n        <th>Student</th>\n        {days.map((day, index) => (\n          <th key={index}>{day}</th>\n        ))}\n      </tr>\n    );\n  };\n\n  const renderTableRows = () => {\n    if (attendanceData.length === 0) {\n      return null;\n    }\n\n    // Group by student names and show their attendance status\n    const groupedByStudent = {};\n    attendanceData.forEach(record => {\n      const { name, date, present } = record;\n      if (!groupedByStudent[name]) {\n        groupedByStudent[name] = {};\n      }\n      groupedByStudent[name][date] = present;\n    });\n\n    return Object.keys(groupedByStudent).map((studentName, index) => (\n      <tr key={index}>\n        <td>{studentName}</td>\n        {Object.values(groupedByStudent[studentName]).map((status, idx) => (\n          <td key={idx} className={status ? 'present' : 'absent'}>\n            {status ? 'Present' : 'Absent'}\n          </td>\n        ))}\n      </tr>\n    ));\n  };\n\n  return (\n    <div className=\"attendance-container\">\n      <h2>Day-wise Attendance</h2>\n      <table className=\"attendance-table\">\n        <thead>{attendanceData.length > 0 && renderTableHeader()}</thead>\n        <tbody>{attendanceData.length > 0 ? renderTableRows() : <tr><td colSpan=\"100%\">No attendance data available</td></tr>}</tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default AttendanceTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}